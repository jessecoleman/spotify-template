<!--
    Cole Chamberlin
    11/2/15
    INFO 343
    Spotify Challenge

    This file provides the view for the login page
-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login</title>

    <!-- Angular, jQuery, Parse, Materialize -->
    <script src="bower_components/angular/angular.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.1.3/angularfire.min.js"></script>
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <script src="//www.parsecdn.com/js/parse-1.6.0.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <link rel="stylesheet" href="css/materialize.min.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Custom files -->
    <script type="text/javascript" src="js/login.js"></script>
    <link rel="stylesheet" href="css/login.css" />
    <link rel="stylesheet" href="css/app.css" />
</head>
<body ng-app="loginApp" ng-controller="loginCtrl">
	<nav>
	    <div class="nav-wrapper light-green darken-1">
	        <a href="index.html" class="brand-logo center">Show Finder</a>
		    <ul id="nav-mobile" class="left hide-on-med-and-down">
			    <li><a href="setup.html">Pick</a></li>
			    <li><a href="index.html">Find</a></li>
			    <li><a href="#">About</a></li>
		    </ul>
		    <ul class="right">
			    <li><a href="#" ng-show="userId">{{userId}}</a></li>
			    <li><a href="login.html" ng-click="logOut()">{{userId ? 'Logout' : 'Login'}}</a></li>
		    </ul>
	    </div>
	</nav>
	<div class="container section">
	    <div class="row">
	        <div class="col s12 m8 l6 offset-m2 offset-l3">
	            <div class="card">
	                <div class="card-content">
	                    <form role="form" id="login" ng-show="!signUpView" novalidate>
	                        <div class="input-field">
	                            <label for="email">email</label>
	                            <input type="text" id="email" ng-model="email" ng-minlength="6" required />
	                        </div>
	                        <div class="input-field">
	                            <label for="password">Password</label>
	                            <input type="password" id="password" ng-model="password" ng-minlength="6" required />
	                        </div>
	                        <button type="submit" ng-click="signIn()" ng-disabled="login.$invalid" class="btn blue darken-3 waves-effect waves-light">Login</button>
	                    </form>
	                    <form role="form" id="signup" ng-show="signUpView" novalidate>
	                        <div class="input-field">
	                            <label for="new-email">email</label>
	                            <input type="text" id="new-email" ng-model="newEmail" />
	                        </div>
	                        <div class="input-field">
	                            <label for="new-password">Password</label>
	                            <input type="password" id="new-password" ng-model="newPassword" />
	                        </div>
	                        <div class="input-field">
	                            <label for="new-password-confirm">Confirm Password</label>
	                            <input type="password" id="new-password-confirm" compare-to="newPassword" ng-model="newPasswordConfirm" />
		                        <p ng-show="newPassword != newPasswordConfirm">Passwords must match</p>
	                        </div>
	                        <button type="submit" ng-click="signUp()" ng-disabled="signup.$invalid || newPassword != newPasswordConfirm" class="btn green waves-effect waves-light">Sign Up</button>
	                    </form>
	                </div>
	            </div>
	            <div ng-show="!signUpView">
	                <span>Don't have an account yet?  </span>
	                <button ng-click="signUpView = true" class="btn green waves-effect waves-light">Sign Up</button>
	            </div>
		        <div ng-show="signUpView">
			        <span>Already have an account?  </span>
			        <button ng-click="signUpView = false" class="btn blue darken-3 waves-effect waves-light">Sign In</button>
		        </div>
	        </div>
	    </div>
	</div>
</body>
</html>